{"ast":null,"code":"var _jsxFileName = \"/home/imran/Desktop/noctem/app/src/App.js\";\nimport React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport Homepage from \"./pages/homepage/homepage\";\nimport Navbar from \"./components/navbar/navbar.component\";\nimport SignInForm from './components/signInForm/signInForm.component';\nimport Products from \"./pages/Products/Products\";\nimport SignUpForm from './components/signUpFrom/signUpForm.component';\nimport Cart from \"./components/cart/cart.component\";\nimport { connect } from \"react-redux\";\nimport appData from \"./api/appData\";\n\nclass App extends Component {\n  componentDidMount() {\n    window.addEventListener('onbeforeunload', async e => {\n      e.preventDefault();\n\n      if (this.props.isSignedIn) {\n        const _this$props$cart = this.props.cart,\n              email = _this$props$cart.email,\n              items = _this$props$cart.items;\n        const body = JSON.stringify({\n          email,\n          items\n        });\n        const config = {\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        };\n        const res = await appData.post('/cart/update', body, config);\n      }\n    });\n  }\n\n  render() {\n    console.log(localStorage);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: '/',\n      exact: true,\n      component: Homepage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: '/products/:category/:type',\n      component: Products,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/signin\",\n      component: SignInForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/signup\",\n      component: SignUpForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/cart\",\n      component: Cart,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    cart: state.cart,\n    signIn: state.signIn\n  };\n};\n\nexport default connect(mapStateToProps)(App);","map":{"version":3,"sources":["/home/imran/Desktop/noctem/app/src/App.js"],"names":["React","Component","Route","Switch","Homepage","Navbar","SignInForm","Products","SignUpForm","Cart","connect","appData","App","componentDidMount","window","addEventListener","e","preventDefault","props","isSignedIn","cart","email","items","body","JSON","stringify","config","headers","res","post","render","console","log","localStorage","mapStateToProps","state","signIn"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,KAAR,EAAeC,MAAf,QAA4B,kBAA5B;AACA,OAAO,WAAP;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AACA,OAAOC,UAAP,MAAuB,8CAAvB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,UAAP,MAAuB,8CAAvB;AACA,OAAOC,IAAP,MAAiB,kCAAjB;AAEA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,eAApB;;AAGA,MAAMC,GAAN,SAAkBX,SAAlB,CAA4B;AACxBY,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,gBAAxB,EAAyC,MAAOC,CAAP,IAAW;AAChDA,MAAAA,CAAC,CAACC,cAAF;;AACA,UAAI,KAAKC,KAAL,CAAWC,UAAf,EAA0B;AAAA,iCACA,KAAKD,KAAL,CAAWE,IADX;AAAA,cACfC,KADe,oBACfA,KADe;AAAA,cACTC,KADS,oBACTA,KADS;AAEtB,cAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAACJ,UAAAA,KAAD;AAAOC,UAAAA;AAAP,SAAf,CAAb;AACA,cAAMI,MAAM,GAAG;AACXC,UAAAA,OAAO,EAAC;AACJ,4BAAe;AADX;AADG,SAAf;AAKA,cAAMC,GAAG,GAAG,MAAMjB,OAAO,CAACkB,IAAR,CAAa,cAAb,EAA4BN,IAA5B,EAAiCG,MAAjC,CAAlB;AACH;AACJ,KAZD;AAaH;;AAEDI,EAAAA,MAAM,GAAG;AACLC,IAAAA,OAAO,CAACC,GAAR,CAAYC,YAAZ;AACA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAE,GAAb;AAAkB,MAAA,KAAK,MAAvB;AAAwB,MAAA,SAAS,EAAE7B,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAE,2BAAb;AAA0C,MAAA,SAAS,EAAEG,QAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI,oBAAC,KAAD;AAAO,MAAA,IAAI,WAAX;AAAwB,MAAA,SAAS,EAAED,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAII,oBAAC,KAAD;AAAO,MAAA,IAAI,WAAX;AAAwB,MAAA,SAAS,EAAEE,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAKI,oBAAC,KAAD;AAAO,MAAA,IAAI,SAAX;AAAsB,MAAA,SAAS,EAAEC,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,CAFJ,CADJ,CADJ;AAcH;;AAjCuB;;AAmC5B,MAAMyB,eAAe,GAAGC,KAAK,IAAE;AAC7B,SAAM;AACFf,IAAAA,IAAI,EAACe,KAAK,CAACf,IADT;AAEFgB,IAAAA,MAAM,EAACD,KAAK,CAACC;AAFX,GAAN;AAID,CALD;;AAMA,eAAe1B,OAAO,CAACwB,eAAD,CAAP,CAAyBtB,GAAzB,CAAf","sourcesContent":["import React, {Component} from 'react';\nimport {Route, Switch} from 'react-router-dom';\nimport './App.css';\nimport Homepage from \"./pages/homepage/homepage\";\nimport Navbar from \"./components/navbar/navbar.component\";\nimport SignInForm from './components/signInForm/signInForm.component';\nimport Products from \"./pages/Products/Products\";\nimport SignUpForm from './components/signUpFrom/signUpForm.component'\nimport Cart from \"./components/cart/cart.component\";\n\nimport {connect} from \"react-redux\";\nimport appData from \"./api/appData\";\n\n\nclass App extends Component {\n    componentDidMount() {\n        window.addEventListener('onbeforeunload',async (e)=>{\n            e.preventDefault();\n            if (this.props.isSignedIn){\n                const {email,items} = this.props.cart;\n                const body = JSON.stringify({email,items});\n                const config = {\n                    headers:{\n                        \"Content-Type\":\"application/json\"\n                    }\n                };\n                const res = await appData.post('/cart/update',body,config);\n            }\n        })\n    }\n\n    render() {\n        console.log(localStorage);\n        return (\n            <div>\n                <div>\n                    <Navbar/>\n                    <Switch>\n                        <Route path={'/'} exact component={Homepage}/>\n                        <Route path={'/products/:category/:type'} component={Products}/>\n                        <Route path={`/signin`} component={SignInForm}/>\n                        <Route path={`/signup`} component={SignUpForm}/>\n                        <Route path={`/cart`} component={Cart}/>\n                    </Switch>\n                </div>\n            </div>\n        );\n    }\n}\nconst mapStateToProps = state=>{\n  return{\n      cart:state.cart,\n      signIn:state.signIn\n  }\n};\nexport default connect(mapStateToProps)(App);\n"]},"metadata":{},"sourceType":"module"}