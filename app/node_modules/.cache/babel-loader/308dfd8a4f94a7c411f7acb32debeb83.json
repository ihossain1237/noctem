{"ast":null,"code":"import _defineProperty from \"/media/imran/96b4eb96-0cf8-4ce7-a89b-85777cf350f2/home/imran/Desktop/noctem/app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { ADD_TO_CART, REMOVE_FROM_CART } from \"../action.types\";\nimport appData from \"../../api/appData\";\nexport const cartOperation = function (op, items, targetItem, targetEmail) {\n  const targetItemId = targetItem._id;\n  const targetIndex = items.findIndex(item => item._id === targetItemId);\n\n  if (op === ADD_TO_CART) {\n    if (targetIndex > -1) items[targetIndex].itemCount += 1;else items.push(_objectSpread({}, targetItem, {\n      itemCount: 1\n    }));\n  } else if (op === 'REMOVE_FROM_CART') {\n    if (items.length > 0) {\n      if (items[targetIndex].itemCount > 1) items[targetIndex].itemCount -= 1;else items.splice(targetIndex, 1);\n    }\n  }\n\n  updateCart(items, targetEmail);\n  return items;\n};\nexport const updateCart = async (email, items) => {\n  if (email) {\n    const body = JSON.stringify({\n      email,\n      items\n    });\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const res = await appData.post('/cart/update', body, config);\n  }\n};","map":{"version":3,"sources":["/media/imran/96b4eb96-0cf8-4ce7-a89b-85777cf350f2/home/imran/Desktop/noctem/app/src/redux/cart/cart.utils.js"],"names":["ADD_TO_CART","REMOVE_FROM_CART","appData","cartOperation","op","items","targetItem","targetEmail","targetItemId","_id","targetIndex","findIndex","item","itemCount","push","length","splice","updateCart","email","body","JSON","stringify","config","headers","res","post"],"mappings":";;;;;;AAAA,SAAQA,WAAR,EAAqBC,gBAArB,QAA4C,iBAA5C;AACA,OAAOC,OAAP,MAAoB,mBAApB;AAGA,OAAO,MAAMC,aAAa,GAAG,UAASC,EAAT,EAAYC,KAAZ,EAAkBC,UAAlB,EAA6BC,WAA7B,EAAyC;AAClE,QAAMC,YAAY,GAAGF,UAAU,CAACG,GAAhC;AACA,QAAMC,WAAW,GAAGL,KAAK,CAACM,SAAN,CAAgBC,IAAI,IAAEA,IAAI,CAACH,GAAL,KAAWD,YAAjC,CAApB;;AACA,MAAIJ,EAAE,KAAGJ,WAAT,EAAqB;AACjB,QAAIU,WAAW,GAAC,CAAC,CAAjB,EACIL,KAAK,CAACK,WAAD,CAAL,CAAmBG,SAAnB,IAA8B,CAA9B,CADJ,KAGIR,KAAK,CAACS,IAAN,mBAAeR,UAAf;AAA0BO,MAAAA,SAAS,EAAC;AAApC;AACP,GALD,MAMK,IAAIT,EAAE,KAAG,kBAAT,EAA4B;AAC7B,QAAIC,KAAK,CAACU,MAAN,GAAa,CAAjB,EAAmB;AACf,UAAIV,KAAK,CAACK,WAAD,CAAL,CAAmBG,SAAnB,GAA6B,CAAjC,EACIR,KAAK,CAACK,WAAD,CAAL,CAAmBG,SAAnB,IAA8B,CAA9B,CADJ,KAGIR,KAAK,CAACW,MAAN,CAAaN,WAAb,EAAyB,CAAzB;AAA6B;AACxC;;AACDO,EAAAA,UAAU,CAACZ,KAAD,EAAOE,WAAP,CAAV;AACA,SAAOF,KAAP;AAEH,CAnBM;AAqBP,OAAO,MAAMY,UAAU,GAAE,OAAOC,KAAP,EAAab,KAAb,KAAqB;AAC1C,MAAIa,KAAJ,EAAU;AAEN,UAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAACH,MAAAA,KAAD;AAAOb,MAAAA;AAAP,KAAf,CAAb;AACA,UAAMiB,MAAM,GAAG;AACXC,MAAAA,OAAO,EAAC;AACJ,wBAAe;AADX;AADG,KAAf;AAKA,UAAMC,GAAG,GAAG,MAAMtB,OAAO,CAACuB,IAAR,CAAa,cAAb,EAA4BN,IAA5B,EAAiCG,MAAjC,CAAlB;AAEP;AAAC,CAXK","sourcesContent":["import {ADD_TO_CART, REMOVE_FROM_CART} from \"../action.types\";\nimport appData from \"../../api/appData\";\n\n\nexport const cartOperation = function(op,items,targetItem,targetEmail){\n    const targetItemId = targetItem._id;\n    const targetIndex = items.findIndex(item=>item._id===targetItemId);\n    if (op===ADD_TO_CART){\n        if (targetIndex>-1)\n            items[targetIndex].itemCount+=1;\n        else\n            items.push({...targetItem,itemCount:1});\n    }\n    else if (op==='REMOVE_FROM_CART'){\n        if (items.length>0){\n            if (items[targetIndex].itemCount>1)\n                items[targetIndex].itemCount-=1;\n            else\n                items.splice(targetIndex,1);}\n    }\n    updateCart(items,targetEmail);\n    return items;\n\n};\n\nexport const updateCart =async (email,items)=>{\n    if (email){\n\n        const body = JSON.stringify({email,items});\n        const config = {\n            headers:{\n                \"Content-Type\":\"application/json\"\n            }\n        };\n        const res = await appData.post('/cart/update',body,config);\n\n}};"]},"metadata":{},"sourceType":"module"}